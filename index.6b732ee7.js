const e=document.querySelector("#myModal"),t=document.querySelector(".svg-close"),n=document.querySelector(".list-cards"),c=document.querySelector(".search-by-s"),o=(document.querySelector(".search-by-country"),document.querySelector(".search-form"));const a=document.querySelector(".search-by-country");const s=document.querySelector(".mask");(async function(e){try{const t=await fetch(e);return await t.json()}catch(e){console.log(e.message)}})("https://restcountries.com/v3.1/all").then((e=>{e.forEach((e=>{a.insertAdjacentHTML("beforeend",`\n            <option value = "${e.cca2}">${e.name.common}</option>\n        `)}))})),
//!------------- events ---------------
o.addEventListener("submit",(e=>{e.preventDefault(),n.replaceChildren(""),async function(e){try{const t=await fetch(e);return await t.json()}catch(e){console.log(e.message)}}(`https://app.ticketmaster.com/discovery/v2/events.json?apikey=Thqn5txrZvBNrP2vPhyOGtn3h4ymZ92S&keyword=${c.value}&size=20&countryCode=${a.value}`).then((e=>{e._embedded.events.forEach((e=>{n.insertAdjacentHTML("beforeend",`\n            <li class="event">\n                <div class="ramka-event"></div>\n                <img class="event-image" src=${e.images[0].url}>\n                <h3>${e.name}</h3>\n                <h4>${e.dates.start.localDate}</h4>\n                <p>${e._embedded.venues[0].name}</p>\n            </li>\n        `)}))}))})),
//!------------- modals ---------------
t.addEventListener("click",(()=>{e.style.display="none"})),window.onclick=function(t){t.target==e&&(e.style.display="none")},n.addEventListener("click",(t=>{document.querySelectorAll(".event-image").forEach((n=>{t.target===n&&(e.style.display="block")}))})),
//!------------- loader ---------------
window.addEventListener("load",(()=>{s.classList.add("hide"),setTimeout((()=>{s.remove()}),3e3)}));
//# sourceMappingURL=index.6b732ee7.js.map

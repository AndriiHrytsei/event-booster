const e=document.querySelector("#myModal"),t=document.querySelector(".svg-close"),n=document.querySelector(".event-image-head"),a=document.querySelector(".main-event-image"),o=document.querySelector(".info-text"),c=document.querySelector(".date"),r=document.querySelector(".time"),d=document.querySelector(".location"),i=document.querySelector(".place"),s=document.querySelector(".who-name"),l=(document.querySelector(".standart-price"),document.querySelector(".vip-price"),document.querySelector(".list-cards")),u=document.querySelector(".search-by-s"),m=(document.querySelector(".options"),document.querySelector(".search-form"));const y=document.querySelector(".options"),v=document.querySelector(".wrapper"),g=document.querySelector(".select-btn");document.querySelector(".search-country"),document.querySelectorAll(".countryLi");
//!------
//!------
//!------
//!------
//!------
const h=document.querySelector(".mask");
//!------------- country select ---------------
(async function(e){try{const t=await fetch(e);return await t.json()}catch(e){console.log(e.message)}})("https://restcountries.com/v3.1/all").then((e=>{e.forEach((e=>{y.insertAdjacentHTML("beforeend",`\n            <li value = "${e.cca2}" class="countryLi">${e.name.common}</li>\n            `)}))})),g.addEventListener("click",(()=>{v.classList.toggle("active"),g.classList.toggle("active-border")})),y.addEventListener("click",(e=>{document.querySelectorAll(".countryLi").forEach((t=>{e.target===t&&(v.classList.remove("active"),g.classList.toggle("active-border"),g.firstElementChild.innerText=e.target.innerText,g.firstElementChild.setAttribute("value",`${e.target.getAttribute("value")}`))}))}));
//!------------- events ---------------
//!------------- pagination ---------------
const f=document.querySelector(".pagination");m.addEventListener("submit",(m=>{m.preventDefault(),l.replaceChildren(""),f.replaceChildren(""),async function(e){try{const t=await fetch(e);return await t.json()}catch(e){console.log(e.message)}}(`https://app.ticketmaster.com/discovery/v2/events.json?apikey=Thqn5txrZvBNrP2vPhyOGtn3h4ymZ92S&keyword=${u.value}&size=30&countryCode=${g.firstElementChild.getAttribute("value")}`).then((u=>{const m=u._embedded.events,y=20,v=Math.ceil(m.length/y);let g=1;function h(e){l.replaceChildren("");const t=(e-1)*y,n=e*y;!function(e){e.forEach((e=>{l.insertAdjacentHTML("beforeend",`\n            <li class="event">\n            <div class="ramka-event"></div>\n            <img class="event-image" src=${e.images[0].url}\n                data-name="${e.name}"\n                data-eventimghead="${e.images[0].url}"\n                data-eventimgmain="${e.images[2].url}"\n                data-date="${e.dates.start.localDate}"\n                data-time="${e.dates.start.localTime}"\n                data-timezone="${e.dates.timezone}"\n                data-city="${e._embedded.venues[0].city.name}"\n                data-country="${e._embedded.venues[0].country.name}"\n                data-place="${e._embedded.venues[0].name}"\n                data-who="${e.name}"\n                data-info="${e.info}"\n            >\n                <h3>${e.name}</h3>\n                <h4 >${e.dates.start.localDate}</h4>\n                <p class = "event-location">\n                    ${e._embedded.venues[0].name}\n                </p>\n            </li>\n        `),document.querySelectorAll(".event-location").forEach((t=>{e._embedded.venues[0].name||(t.textContent="Location not given")}))}))}(m.slice(t,n))}h(g),function(){for(let e=1;e<=v;e+=1){const t=document.createElement("button");t.textContent=e,t.addEventListener("click",(()=>{g=e,h(g)})),f.appendChild(t),t.classList.add("pag-but")}}(),
//!------------- modals ---------------
l.addEventListener("click",(t=>{document.querySelectorAll(".event-image").forEach((l=>{t.target===l&&(e.style.display="flex",n.src=t.target.dataset.eventimghead,a.src=t.target.dataset.eventimgmain,c.textContent=t.target.dataset.date,r.textContent=`${t.target.dataset.time} (${t.target.dataset.timezone})`,d.textContent=`${t.target.dataset.city}, ${t.target.dataset.country}`,i.textContent=t.target.dataset.place,s.textContent=t.target.dataset.name,"undefined"===t.target.dataset.info?o.textContent="No info available":o.textContent=t.target.dataset.info,"undefined"===i.textContent?i.textContent="Location not given":i.textContent=t.target.dataset.place)}))})),t.addEventListener("click",(()=>{e.style.display="none"})),window.onclick=function(t){t.target==e&&(e.style.display="none")}}))})),
//!------------- loader ---------------
window.addEventListener("load",(()=>{h.classList.add("hide"),setTimeout((()=>{h.remove()}),1e3)}));
//# sourceMappingURL=index.37505bdd.js.map

const e=document.querySelector("#myModal"),t=document.querySelector(".svg-close"),n=document.querySelector(".event-image-head"),a=document.querySelector(".main-event-image"),c=(document.querySelector(".info-text"),document.querySelector(".date")),o=document.querySelector(".time"),r=document.querySelector(".location"),d=document.querySelector(".place"),s=document.querySelector(".who-name"),i=(document.querySelector(".standart-price"),document.querySelector(".vip-price"),document.querySelector(".list-cards")),l=document.querySelector(".search-by-s"),m=(document.querySelector(".search-by-country"),document.querySelector(".search-form"));document.querySelector(".search-by-country");const u=document.querySelector(".search-by-country");const y=document.querySelector(".mask");(async function(e){try{const t=await fetch(e);return await t.json()}catch(e){console.log(e.message)}})("https://restcountries.com/v3.1/all").then((e=>{e.forEach((e=>{u.insertAdjacentHTML("beforeend",`\n            <option value = "${e.cca2}">${e.name.common}</option>\n        `)}))}));
//!------------- events ---------------
//!------------- pagination ---------------
const v=document.querySelector(".pagination");m.addEventListener("submit",(m=>{m.preventDefault(),i.replaceChildren(""),v.innerHTML="",async function(e){try{const t=await fetch(e);return await t.json()}catch(e){console.log(e.message)}}(`https://app.ticketmaster.com/discovery/v2/events.json?apikey=Thqn5txrZvBNrP2vPhyOGtn3h4ymZ92S&keyword=${l.value}&size=30&countryCode=${u.value}`).then((l=>{const m=l._embedded.events,u=20,y=Math.ceil(m.length/u);let h=1;function g(e){i.replaceChildren("");const t=(e-1)*u,n=e*u;!function(e){e.forEach((e=>{i.insertAdjacentHTML("beforeend",`\n            <li class="event">\n            <div class="ramka-event"></div>\n            <img class="event-image" src=${e.images[0].url}\n                data-name="${e.name}"\n                data-eventimghead="${e.images[0].url}"\n                data-eventimgmain="${e.images[2].url}"\n                data-date="${e.dates.start.localDate}"\n                data-time="${e.dates.start.localTime}"\n                data-timezone="${e.dates.timezone}"\n                data-city="${e._embedded.venues[0].city.name}"\n                data-country="${e._embedded.venues[0].country.name}"\n                data-place="${e._embedded.venues[0].name}"\n                data-who="${e.name}"\n            >\n                <h3>${e.name}</h3>\n                <h4>${e.dates.start.localDate}</h4>\n                <p>${e._embedded.venues[0].name}</p>\n            </li>\n        `)}))}(m.slice(t,n))}g(h),function(){for(let e=1;e<=y;e+=1){const t=document.createElement("button");t.textContent=e,t.addEventListener("click",(()=>{h=e,g(h)})),v.appendChild(t),t.classList.add("pag-but")}}(),
//!------------- modals ---------------
i.addEventListener("click",(t=>{document.querySelectorAll(".event-image").forEach((i=>{t.target===i&&(e.style.display="flex",n.src=t.target.dataset.eventimghead,a.src=t.target.dataset.eventimgmain,c.textContent=t.target.dataset.date,o.textContent=`${t.target.dataset.time} (${t.target.dataset.timezone})`,r.textContent=`${t.target.dataset.city}, ${t.target.dataset.country}`,d.textContent=t.target.dataset.place,s.textContent=t.target.dataset.name)}))})),t.addEventListener("click",(()=>{e.style.display="none"})),window.onclick=function(t){t.target==e&&(e.style.display="none")}}))})),
//!------------- loader ---------------
window.addEventListener("load",(()=>{y.classList.add("hide"),setTimeout((()=>{y.remove()}),1e3)}));
//# sourceMappingURL=index.f4828813.js.map

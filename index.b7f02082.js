const e=document.querySelector("#myModal"),t=document.querySelector(".svg-close"),a=document.querySelector(".event-image-head"),n=document.querySelector(".main-event-image"),c=(document.querySelector(".info-text"),document.querySelector(".date")),o=document.querySelector(".time"),r=document.querySelector(".location"),d=document.querySelector(".place"),s=document.querySelector(".who-name"),m=(document.querySelector(".standart-price"),document.querySelector(".vip-price"),document.querySelector(".list-cards")),i=document.querySelector(".search-by-s"),l=(document.querySelector(".search-by-country"),document.querySelector(".search-form"));const u=document.querySelector(".search-by-country");const y=document.querySelector(".mask");(async function(e){try{const t=await fetch(e);return await t.json()}catch(e){console.log(e.message)}})("https://restcountries.com/v3.1/all").then((e=>{e.forEach((e=>{u.insertAdjacentHTML("beforeend",`\n            <option value = "${e.cca2}">${e.name.common}</option>\n        `)}))})),
//!------------- events ---------------
l.addEventListener("submit",(l=>{l.preventDefault(),m.replaceChildren(""),async function(e){try{const t=await fetch(e);return await t.json()}catch(e){console.log(e.message)}}(`https://app.ticketmaster.com/discovery/v2/events.json?apikey=Thqn5txrZvBNrP2vPhyOGtn3h4ymZ92S&keyword=${i.value}&size=20&countryCode=${u.value}`).then((i=>{i._embedded.events.forEach((e=>{m.insertAdjacentHTML("beforeend",`\n            <li class="event" \n            \n            >\n            <div class="ramka-event"></div>\n            <img class="event-image" src=${e.images[0].url}\n                data-name="${e.name}"\n                data-eventimghead="${e.images[0].url}"\n                data-eventimgmain="${e.images[2].url}"\n                data-date="${e.dates.start.localDate}"\n                data-time="${e.dates.start.localTime}"\n                data-timezone="${e.dates.timezone}"\n                data-city="${e._embedded.venues[0].city.name}"\n                data-country="${e._embedded.venues[0].country.name}"\n                data-place="${e._embedded.venues[0].name}"\n                data-who="${e.name}"\n            >\n                <h3>${e.name}</h3>\n                <h4>${e.dates.start.localDate}</h4>\n                <p>${e._embedded.venues[0].name}</p>\n            </li>\n        `)})),m.addEventListener("click",(t=>{document.querySelectorAll(".event-image").forEach((m=>{t.target===m&&(e.style.display="flex",a.src=t.target.dataset.eventimghead,n.src=t.target.dataset.eventimgmain,c.textContent=t.target.dataset.date,o.textContent=`${t.target.dataset.time} (${t.target.dataset.timezone})`,r.textContent=`${t.target.dataset.city}, ${t.target.dataset.country}`,d.textContent=t.target.dataset.place,s.textContent=t.target.dataset.name)}))})),t.addEventListener("click",(()=>{e.style.display="none"})),window.onclick=function(t){t.target==e&&(e.style.display="none")}}))})),
//!------------- modals ---------------
//!------------- loader ---------------
window.addEventListener("load",(()=>{y.classList.add("hide"),setTimeout((()=>{y.remove()}),3e3)}));
//# sourceMappingURL=index.b7f02082.js.map
